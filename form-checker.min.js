function NumberFormat(){function e(a,b){for(;a.length<b;)a="0"+a;return a}const a=/[^01]+/g,b=/[^0-9e\-]+/gi,c=/[^0-9a-f]/gi,d={"default":{decimals:2,whole:3,section:",",decimal:"."},"float":{decimals:2,whole:3,section:",",decimal:"."},latin:{decimals:2,whole:3,section:".",decimal:","},integer:{decimals:0,whole:3,section:" ",decimal:"."},binary:{decimals:0,whole:4,section:"-",base:2},hex:{decimals:0,whole:2,section:".",base:16}};this.masks=d,this.toNumber=function(e,f){if("string"!==typeof e)return e;var g=d[f]||f||d.default;if(2==g.base)return parseInt(e.replace(a,""),2)>>0;if(16==g.base)return parseInt(e.replace(c,""),16)>>0;var h=e.lastIndexOf(g.decimal),i=e.replace(b,"");return h<0?parseFloat(i):(h=i.length-(e.length-h)+1,parseFloat(i.substr(0,h)+"."+i.substr(h)))},this.format=function(a,b){if(isNaN(a))return a;var c=d[b]||b||d.default;c.whole=c.whole||3,c.base=c.base||10;var f,g,h;if(f=g=h="",10!=c.base)a=(a>>>0).toString(c.base),g=e(a,Math.ceil(a.length/c.whole)*c.whole);else{var i=a.toString().split(".");g=i.shift(),h=i.shift()||"",h+="000000000000000000000000000",h=c.decimal&&c.decimals?c.decimal+h.substr(0,c.decimals):"",f="-"==g.charAt(0)?"-":f,("-"==g.charAt(0)||"+"==g.charAt(0))&&(g=g.substr(1))}var j=[],k=g.length%c.whole;for(k&&j.push(g.substr(0,k));k<g.length;)j.push(g.substr(k,c.whole)),k+=c.whole;return f+j.join(c.section)+h},this.trNumber=function(a,b,c){return this.format(this.toNumber(a,b),c||b)}}function DateFormat(a){function e(a){return a<10?"0"+a:a}function f(a,b){return a.indexOf(b)+1}const b=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|'[^']*'/g,c=/[\+\-]\d{4}|\d{1,4}|[a-z]+/gi,d={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"yy/m/d",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",latinDate:"dd/mm/yyyy",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd HH:MM:ss",latinDateTime:"dd/mm/yyyy HH:MM:ss",isoUtcDateTime:"yyyy-mm-dd HH:MM:ss Z",dateTime:"yyyy-mm-dd HH:MM:ss",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"};this.masks=d,a=a||{},a.dayNamesShort=a.dayNamesShort||["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a.dayNames=a.dayNames||["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a.monthNamesShort=a.monthNamesShort||["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a.monthNames=a.monthNames||["January","February","March","April","May","June","July","August","September","October","November","December"];var g=new Date,h=g.getFullYear().toString(),i=g.getTimezoneOffset(),j=(100*Math.floor(Math.abs(i)/60)+Math.abs(i)%60).toString(),k=(i<0?"-":"+")+"0000".substring(j.length)+j;this.trDate=function(g,i,j){if(!g||"string"!==typeof g)return g;i=d[i]||i||d.default,j=d[j]||j||d.default;var l={},m=g.match(c);i.match(b).forEach(function(a,b){l[a]=m[b]}),l.yy=l.yy||(l.yyyy?l.yyyy.substr(2,2):h.substr(2,2)),l.yyyy=l.yyyy||h.substr(0,2)+l.yy,l.m=+l.m||parseInt(l.mm)||f(a.monthNamesShort,l.mmm)||f(a.monthNames,l.mmmm)||1,l.mm=l.mm||e(l.m),l.mmm=l.mmm||a.monthNamesShort[l.m-1],l.mmmm=l.mmmm||a.monthNames[l.m-1],l.d=+l.d||parseInt(l.dd)||f(a.dayNamesShort,l.ddd)||f(a.dayNames,l.dddd)||1,l.dd=l.dd||e(l.d);var n=new Date(l.yyyy,l.m,l.d).getDay();return l.ddd=l.ddd||a.dayNamesShort[n],l.dddd=l.dddd||a.dayNames[n],l.h=l.h||l.hh,l.H=l.H||l.HH||l.h||0,l.HH=l.HH||e(l.H),l.h=l.h||l.H%12||12,l.hh=l.hh||e(l.h),l.M=l.M||0,l.MM=l.MM||e(l.M),l.s=l.s||"0",l.ss=l.ss||e(l.s),l.t=l.t||(+l.H<12?"a":"p"),l.tt=l.tt||l.t+"m",l.T=l.T||l.t.toUpperCase(),l.TT=l.TT||l.T+"M",l.Z=l.Z||"",l.o=l.o||k,j.replace(b,function(a){return l[a]})},this.toDate=function(a,b){return new Date(this.trDate(a,b,"isoDateTime"))},this.isDate=function(a){return a instanceof Date&&a.getTime&&!isNaN(a.getTime())},this.format=function(a,b){return this.trDate(a.toString(),"default",b)}}function FormChecker(a,b){b=b||{},b["msg.err.value"]=b["msg.err.value"]||"Invalid data",b["msg.err.form"]=b["msg.err.form"]||"Form contains errors";var c=new NumberFormat,d=new DateFormat(b),e=function(a){return parseFloat($(a).val())},f=function(a,b){return parseFloat($(a).attr(b))},g=function(a){return a&&"false"!=a&&"0"!=a},h=function(a,b){return g($(a).attr(b))},i=function(a,c){var d=$(a).attr("data-msg-"+c)||b["msg.err."+c]||b["msg.err.value"],e="hidden"==$(a).attr("type")?$(a).siblings("[alt=errbox]"):$(a);return e.next("span.tooltip").length||e.after('<span class="tooltip">'+d+"</span>").show(),a},j={required:function(a,b){return g(b)?b:!0},minlength:function(a,b,c){return!b||f(a,c)<=b.length},maxlength:function(a,b,c){return!b||f(a,c)>=b.length},email:function(a,b,c){return!h(a,c)||!b||/\w+[^\s@]+@[^\s@]+\.[^\s@]+/.test(b)},regex:function(a,b,c,d){return!b||new RegExp(d).test(b)},digits:function(a,b,c){return!h(a,c)||!b||/\d+/.test(b)},number:function(a,b,d,e){return!b||!isNaN(c.toNumber(b,e))},min:function(a,b,d){var g=c.toNumber(b,$(a).attr("number"));return!b||!isNaN(g)&&f(a,d)<=g},max:function(a,b,d){var g=c.toNumber(b,$(a).attr("number"));return!b||!isNaN(g)&&f(a,d)>=g},range:function(a,b,c,d){if(!b)return!0;try{var f=JSON.parse(d)}catch(g){return!1}return e(a)>=parseFloat(f[0])&&e(a)<=parseFloat(f[1])},date:function(a,b,c,e){return!b||d.isDate(d.toDate(b,e))},mindate:function(a,b,c,e){var f=new Date(e);return!b||d.isDate(f)&&j.date(a,"date")&&f<=d.toDate(b,$(a).attr("date"))},maxdate:function(a,b,c,e){var f=new Date(e);return!b||d.isDate(f)&&j.date(a,"date")&&f>=d.toDate(b,$(a).attr("date"))},equalto:function(b,c,d,e){return!c||c==$(e,a).val()}};this.get=function(a){return j[a]},this.set=function(a,b){return j[a]=b,this},this.errors=function(b){if(b)for(var c in b)$("[name="+c+"]:input",a).each(function(){i(this,b[c])});return this},this.flush=function(){return $("span.tooltip",a).remove(),this},this.check=function(){this.flush();var b=!0;for(var c in j){var d=j[c];$("["+c+"]:input",a).each(function(a,e){b=d(e,$(e).val(),c,$(e).attr(c))?b:!i(e,c)})}return b}}