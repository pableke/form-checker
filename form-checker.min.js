function NumberFormat(){function f(a,b){for(;a.length<b;)a="0"+a;return a}function g(a,b){var c=Math.ceil(a.length/b);return f(a,c*b)}var a=this;const b=/[^01]+/g,c=/[^0-9e]+/gi,d=/[^0-9a-f]/gi,e={"default":{decimals:2,whole:3,section:",",decimal:"."},"float":{decimals:2,whole:3,section:",",decimal:"."},latin:{decimals:2,whole:3,section:".",decimal:","},integer:{decimals:0,whole:3,section:" ",decimal:"."},binary:{decimals:0,whole:4,section:"-",base:2},hex:{decimals:0,whole:2,section:".",base:16}};this.masks=e;var h=function(a,b,c,d,e,f){var h=f?g((~~a).toString(f),b):a.toFixed(Math.max(0,c)),i=new RegExp("[0-9a-f](?=([0-9a-f]{"+b+"})+"+(c>0?"\\D":"$")+")","gi");return(e?h.replace(".",e):h).replace(i,"$&"+(d||","))};this.toNumber=function(a,f){if("string"!=typeof a)return a;var g=e[f]||f||e.default;if(2==g.base)return parseInt(a.replace(b,""),2);if(16==g.base)return parseInt(a.replace(d,""),16);var h=a.lastIndexOf(g.decimal),i=a.replace(c,"");return h<0?parseFloat(i):(h=i.length-(a.length-h)+1,parseFloat(i.substr(0,h)+"."+i.substr(h)))},this.format=function(a,b){if(isNaN(+a))return a;var c=e[b]||b||e.default;return h(a,c.whole||3,c.decimals||0,c.section,c.decimal,c.base)},this.trNumber=function(b,c,d){return a.format(a.toNumber(b,c),d||c)}}function DateFormat(a){function f(a){return a<10?"0"+a:a}function g(a,b){return a.indexOf(b)+1}var b=this;const c=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|'[^']*'/g,d=/\d{1,4}|[a-z]+/gi,e={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"yy/m/d",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",latinDate:"dd/mm/yyyy",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd HH:MM:ss",latinDateTime:"dd/mm/yyyy HH:MM:ss",isoUtcDateTime:"yyyy-mm-dd HH:MM:ss Z",dateTime:"yyyy-mm-dd HH:MM:ss",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"};a=a||{},a.dayNamesShort=a.dayNamesShort||["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a.dayNames=a.dayNames||["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a.monthNamesShort=a.monthNamesShort||["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a.monthNames=a.monthNames||["January","February","March","April","May","June","July","August","September","October","November","December"];var h=new Date,i=h.getFullYear().toString(),j=h.getTimezoneOffset(),k=(100*Math.floor(Math.abs(j)/60)+Math.abs(j)%60).toString(),l=(j<0?"-":"+")+"0000".substring(k.length)+k;this.trDate=function(b,h,j){h=e[h]||h||e.default,j=e[j]||j||e.default;var k=b.match(d),m=h.match(c).reduce(function(a,b,c){return a[b]=k[c],a},{});m.yy=m.yy||(m.yyyy?m.yyyy.substr(2,2):i.substr(2,2)),m.yyyy=m.yyyy||i.substr(0,2)+m.yy,m.m=+m.m||parseInt(m.mm)||g(a.monthNamesShort,m.mmm)||g(a.monthNames,m.mmmm)||1,m.mm=m.mm||f(m.m),m.mmm=m.mmm||a.monthNamesShort[m.m-1],m.mmmm=m.mmmm||a.monthNames[m.m-1],m.d=+m.d||parseInt(m.dd)||g(a.dayNamesShort,m.ddd)||g(a.dayNames,m.dddd)||1,m.dd=m.dd||f(m.d);var n=new Date(m.yyyy,m.m,m.d).getDay();return m.ddd=m.ddd||a.dayNamesShort[n],m.dddd=m.dddd||a.dayNames[n],m.h=m.h||m.hh,m.H=m.H||m.HH||m.h||0,m.HH=m.HH||f(m.H),m.h=m.h||m.H%12||12,m.hh=m.hh||f(m.h),m.M=m.M||0,m.MM=m.MM||f(m.M),m.s=m.s||"0",m.ss=m.ss||f(m.s),m.t=m.t||(+m.H<12?"a":"p"),m.tt=m.tt||m.t+"m",m.T=m.T||m.t.toUpperCase(),m.TT=m.TT||m.T+"M",m.Z=m.Z||"",m.o=m.o?(b.lastIndexOf("+")>6?"+":"-")+m.o:l,j.replace(c,function(a){return m[a]})},this.toDate=function(a,c){return c=e[c]||c||e.default,new Date(b.trDate(a,c,"isoDateTime"))},this.isDate=function(a){return a instanceof Date&&a.getTime&&!isNaN(a.getTime())},this.format=function(a,c){return c=e[c]||c||e.default,b.trDate(a.toString(),"default",c)}}function FormChecker(a,b){b=b||{},b["msg.err.value"]=b["msg.err.value"]||"Invalid data",b["msg.err.form"]=b["msg.err.form"]||"Form contains errors";var c=new NumberFormat,d=new DateFormat(b),e=function(a){return $(a).val()||""},f=function(a,b){return a&&a.getAttribute(b)},g=function(a,b){return parseFloat(f(a,b))},h=function(a,b){return parseFloat(e(a,b))},i=function(a){return a&&"false"!=a&&"0"!=a},j=function(a,b){return i(e(a,b))},k=function(a,c){var d=f(a,"data-msg-"+c)||b["msg.err."+c]||b["msg.err.value"],e="hidden"==f(a,"type")?$(a).siblings("[alt=errbox]"):$(a);return e.next("span.tooltip").length||e.after('<span class="tooltip">'+d+"</span>").show(),a},l={required:function(a){return j(a)?e(a):!0},minlength:function(a,b){return!e(a)||g(a,b)<=e(a).length},maxlength:function(a,b){return!e(a)||g(a,b)>=e(a).length},email:function(a,b){return!j(b)||!e(a)||/\w+[^\s@]+@[^\s@]+\.[^\s@]+/.test(e(a))},regex:function(a,b){return!e(a)||new RegExp(f(a,b)).test(e(a))},digits:function(a){return!j(attr)||!e(a)||/\d+/.test(e(a))},number:function(a,b){return!e(a)||!isNaN(c.toNumber(e(a),f(a,b)))},min:function(a,b){var d=c.toNumber(e(a),f(a,"number"));return!e(a)||!isNaN(d)&&g(a,b)<=d},max:function(a,b){var d=c.toNumber(e(a),f(a,"number"));return!e(a)||!isNaN(d)&&g(a,b)>=d},range:function(a,b){if(!e(a))return!0;try{var c=JSON.parse(f(a,b))}catch(d){return!1}return h(a)>=parseFloat(c[0])&&h(a)<=parseFloat(c[1])},date:function(a,b){return!e(a)||d.isDate(d.toDate(e(a),f(a,b)))},mindate:function(a,b){var c=new Date(f(a,b));return!e(a)||d.isDate(c)&&l.date(a,"date")&&c<=d.toDate(e(a),f(a,"date"))},maxdate:function(a,b){var c=new Date(f(a,b));return!e(a)||d.isDate(c)&&l.date(a,"date")&&c>=d.toDate(e(a),f(a,"date"))},equalto:function(b,c){return!e(b)||e(b)==$(f(b,c),a).val()}};this.get=function(a){return l[a]},this.set=function(a,b){return l[a]=b,this},this.errors=function(b){if(b)for(var c in b)$("[name="+c+"]:input",a).each(function(){k(this,b[c])});return this},this.flush=function(){return $("span.tooltip",a).remove(),this},this.check=function(){this.flush();var b=!0;for(var c in l)$("["+c+"]:input",a).each(function(){var a=l[c];b=a(this,c)?b:!k(this,c)});return b}}